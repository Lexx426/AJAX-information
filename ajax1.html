<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax 1 - text file</title>
</head>
<body>
    <button id="button"> Get text file</button>
    <br></br>
    <div id="text"> </div>


    <script>
        // create an event listener
    document.getElementById('button').addEventListener('click', loadText);

    function loadText(){
        // console.log("button clicked - yes it is connected");
        // click FN 12 (airplane) to open up dev tools on web browser

        // create XHR objecct
        var xhr = new XMLHttpRequest();

        // OPEN function - takes 3 parameters type, url/file, async or not ( true or false)
        //console.log(xhr); // when you check console on web browser, you see that there are a bunch of properties and methods attached to it, showing that it is an object

        xhr.open('GET', 'sample.txt', true);

        // this is OPTIONAL  - for loaders 
        // xhr.onprogress = function(){
        // }

        xhr.onload = function(){
            // you want to check for the status of the respone
            if (xhr.status == 200){
                // console.log(this.responseText);
                document.getElementById('text').innerHTML = this.responseText
            }
        }
        // if you are using on load you should have an on error just in case
        xhr.onerror = function(){
            console.log(' request error')
        }
        // sends request
        xhr.send();



    }

    </script>
</body>
</html>